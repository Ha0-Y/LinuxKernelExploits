ARG BUILD_VERSION=16.04
FROM ubuntu:$BUILD_VERSION

ARG DEBIAN_FRONTEND noninteractive

ENV TZ=Asia/Shanghai
# 设置时区
RUN ln -snf /usr/share/zoneinfo/$TZ /etc/localtime && echo '$TZ' > /etc/timezone
# 设置编码
ENV LANG C.UTF-8

WORKDIR /opt

RUN apt-get -y update && apt-get -y upgrade
RUN apt-get install -y wget gcc make

RUN apt-get install -y git build-essential \
  ncurses-dev xz-utils flex libncurses5-dev \
  libssl-dev bc bison libglib2.0-dev libfdt-dev \
  libpixman-1-dev zlib1g-dev libelf-dev \
  manpages-dev

RUN apt-get install clang-format clang-tidy clang-tools \
  clang clangd libc++-dev libc++1 libc++abi-dev \
  libc++abi1 libclang-dev libclang1 liblldb-11-dev\
  libllvm-ocaml-dev libomp-dev libomp5 lld lldb \
  llvm-dev llvm-runtime llvm python-clang
